# Пользовательские сценарии

### Заказ товара через мобильное/десктопное приложение
 - Клиент открывает мобильное/десктопное приложение «I'll Have the BLT».
 - Выбирает ближайший магазин из списка доступных (с учетом геолокации или вручную).
 - Добавляет сэндвич в корзину.
 - Клиент (если зарегистрирован) видит доступные акции и бонусы (например, скидка 10% или значок «колбаска» за заказ), выбирает и применяет их к корзине; незарегистрированный клиент видит только стандартные акции.
 - Выбирает способ получения заказа:
  - самовывоз;
  - доставка (доступна, если магазин поддерживает эту услугу, для доставки требуется подтвержденный мобильный телефон).
 - Выбирает способ оплаты:
  - онлайн (карта, QR-код, счет для юрлиц через внешний платежный шлюз);
  - в магазине (карта, QR-код, наличные);
  - курьеру (карта, QR-код, наличные).
 - Завершает оформление заказа:
  - если выбрана оплата онлайн или по счету: клиент оплачивает через внешний шлюз, после успешной оплаты заказ автоматически формируется;
  - если выбрана оплата в магазине или курьеру: клиент нажимает «Сформировать заказ» для подтверждения;
  - если клиент выбрал доставку, то перед оплатой система потребует подтвердить мобильный телефон с помощью временного кода (если ранее данный номер не был подтвержден).
 - Клиент получает уведомление (push в приложении, email или SMS):
  - номер заказа и статус (например, «Ваш заказ принят, готовность через 15 минут»);
  - если самовывоз: маршрут до магазина с учетом трафика (через внешний картографический сервис);
  - если доставка: ориентировочное время доставки и данные курьера (при необходимости).
    
#### Условия и правила
Зарегистрированные клиенты:
  - имеют доступ к программе лояльности, т.е. накапливают бонусы (например, значки «колбаска», «сырок», «звездочки») за заказы, которые можно обменять на скидки.
  - получают приоритетные уведомления о пятничных, праздничных или национальных акциях. 
Незарегистрированные клиенты:
  - могут использовать только стандартные акции, доступные в приложении.
  - при выборе доставки должны ввести имя, телефон и email для получения чека или интернет-факса.
  - 
Выбор оплаты
  1) онлайн (с помощью внешней системы – карта, qr-код, оплата по счету для юр лиц)
  2) оплата в магазине (карта, qr-код, наличные)
  3) оплата курьеру (qr-код, карта)
  4) 
Онлайн-оплата или счет для юрлиц: 
  - заказ формируется автоматически после успешной транзакции.
  - 
Оплата наличными или курьеру: 
  - требует ручного подтверждения клиентом через кнопку «Сформировать/Подтвердить заказ».
  - 
При выборе магазина отображается информации о загрузке магазина и ориентировочное время ожидания выполнения заказа.

При невозможности магазином выполнить заказ (нет ингредиентов, технические проблемы и т.д.):
- клиент получает уведомление с предложением выбрать другой магазин или отменить заказ.

Корзина:
  - для клиентов, которые 
    1) не зарегистрированы, 
    2) впервые зарегистрировались в сервисе 3) делали заказы товаров менее полугода, если количество позиций в корзине превышает 20 штук, потребуется подтверждение оператора. Об этом факте в приложении появится соответствующее уведомление (к примеру, «ваш заказ превышает установленные лимиты. Дождитесь звонка оператора для подтверждения заказа»). Заказа получит статус только после подтверждения оператором. 
